{% extends "base.html" %}
{% load static %}
{% block main %}

    {% comment %} TODO: ADD if user is admin {% endcomment %}
    {% if is_admin %}

        <form method="POST" action="">
            {% csrf_token %}    
        
            <label class="form-label" for="customFile">Select a file</label>
            {{form.file}}        
            <input class="btn btn-info bg-cyan text-dark w-50 mt-4 fw-semibold shadow-sm" type="submit" value="Upload it"/>
        
        </form>

        <div class="d-flex flex-column gap-1 justify-content-center mt-1">
            <div>Do you want to add a user?</div>
            <a href="/addUser" class="text-decoration-none fw-semibold">Add it!</a>
        </div>
    {% endif %}

    {% if files %}
        <div id="Card" class="flex-column card">
            <h4 class="flex-column">Repository: {{ repo.name }}</h4>
            <ul class="list-group list-group-flush">
                {% for file in files %}
                    <li class="list-group-item"><h5><a id="List" href="getFile?pk={{ file.file.pk }}" name="repo_file_name">
                        {{ file.file.name }}</a>
                    </h5></li>
                {% endfor %}
            </ul>
        </div>
    {% else %}
        <h4 class="flex-column">No repository to show files.</h4>
    {% endif %}

{% endblock main %}